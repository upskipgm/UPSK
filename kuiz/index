<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuiz Interaktif Sistem e2PK (Dengan Sijil PDF)</title>
    <!-- Library untuk jana PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #1c1e21;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        #quiz-container {
            background: #ffffff;
            padding: 2rem 2.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            border-top: 5px solid #007bff;
        }
        h1 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        #name-container { text-align: center; margin-bottom: 2rem; }
        #name-container label { display: block; margin-bottom: 10px; font-weight: 600; }
        #participant-name {
            width: 80%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }
        .question { margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #e0e0e0; }
        .question:last-of-type { border-bottom: none; padding-bottom: 0; }
        .question p { font-weight: 600; margin-bottom: 0.75rem; font-size: 1.1rem; }
        .options div { margin-bottom: 0.5rem; padding: 10px 15px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: background-color 0.3s, border-color 0.3s; display: flex; align-items: center; }
        .options div:hover { background-color: #f8f9fa; border-color: #007bff; }
        input[type="radio"] { margin-right: 12px; flex-shrink: 0; transform: scale(1.1); }
        
        #start-btn, #submit-btn, #download-btn, #retry-btn {
            color: white; padding: 14px 30px; border: none; border-radius: 8px; cursor: pointer;
            font-size: 1rem; font-weight: bold; display: block; width: 100%; margin-top: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        #start-btn { background: linear-gradient(135deg, #6c757d, #5a6268); }
        #submit-btn { background: linear-gradient(135deg, #007bff, #0056b3); }
        #download-btn { background: linear-gradient(135deg, #28a745, #218838); }
        #retry-btn { background: linear-gradient(135deg, #ffc107, #e0a800); }
        #start-btn:hover, #submit-btn:hover, #download-btn:hover, #retry-btn:hover {
            transform: translateY(-2px);
        }

        /* Styling untuk Sijil */
        #certificate-wrapper { padding: 20px; background-color: #f8f9fa; border-radius: 8px; margin-top: 2rem; }
        #certificate {
            background-color: white;
            border: 10px solid #0056b3;
            padding: 30px;
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
        }
        #certificate h2 { color: #003d82; font-size: 2.2rem; margin: 0; }
        #certificate h3 { color: #555; font-size: 1.2rem; margin: 5px 0 25px 0; font-weight: normal; }
        #certificate .cert-text { margin: 15px 0; font-size: 1.1rem; }
        #certificate .participant-name-cert { font-size: 1.8rem; font-weight: bold; color: #007bff; margin: 20px 0; }
        #certificate .score-cert { font-size: 1.5rem; font-weight: bold; }
        #certificate .grade-cert { font-size: 1.2rem; font-style: italic; margin: 10px 0 25px 0; }
        #certificate .date-cert { font-size: 0.9rem; color: #777; }
        
        .correct { border-left: 5px solid #28a745; background-color: #f0fff4; }
        .incorrect { border-left: 5px solid #dc3545; background-color: #fff6f6; }
        .correct-answer-text { color: #155724; font-weight: bold; font-size: 0.9em; margin-top: 10px; padding-left: 28px; }
    </style>
</head>
<body>

    <div id="quiz-container">
        <h1>Kuiz Kefahaman Sistem e2PK ðŸš€</h1>
        
        <div id="name-container">
            <label for="participant-name">Sila masukkan nama penuh anda untuk sijil:</label>
            <input type="text" id="participant-name" placeholder="Contoh: Ali bin Abu">
            <button id="start-btn">Mula Kuiz</button>
            <p id="name-error" style="color: red; display: none; margin-top: 10px;">Sila masukkan nama anda.</p>
        </div>

        <form id="quiz-form" style="display: none;">
            <!-- SOALAN 1 - 20 DI SINI -->
            <div class="question" id="q1"><p>1. ...</p><div class="options">...</div></div>
            <div class="question" id="q2"><p>2. ...</p><div class="options">...</div></div>
            <div class="question" id="q3"><p>3. ...</p><div class="options">...</div></div>
            <div class="question" id="q4"><p>4. ...</p><div class="options">...</div></div>
            <div class="question" id="q5"><p>5. ...</p><div class="options">...</div></div>
            <div class="question" id="q6"><p>6. ...</p><div class="options">...</div></div>
            <div class="question" id="q7"><p>7. ...</p><div class="options">...</div></div>
            <div class="question" id="q8"><p>8. ...</p><div class="options">...</div></div>
            <div class="question" id="q9"><p>9. ...</p><div class="options">...</div></div>
            <div class="question" id="q10"><p>10. ...</p><div class="options">...</div></div>
            <div class="question" id="q11"><p>11. ...</p><div class="options">...</div></div>
            <div class="question" id="q12"><p>12. ...</p><div class="options">...</div></div>
            <div class="question" id="q13"><p>13. ...</p><div class="options">...</div></div>
            <div class="question" id="q14"><p>14. ...</p><div class="options">...</div></div>
            <div class="question" id="q15"><p>15. ...</p><div class="options">...</div></div>
            <div class="question" id="q16"><p>16. ...</p><div class="options">...</div></div>
            <div class="question" id="q17"><p>17. ...</p><div class="options">...</div></div>
            <div class="question" id="q18"><p>18. ...</p><div class="options">...</div></div>
            <div class="question" id="q19"><p>19. ...</p><div class="options">...</div></div>
            <div class="question" id="q20"><p>20. ...</p><div class="options">...</div></div>
            <!-- (Kod soalan yang sama seperti sebelum ini diringkaskan untuk kepanjangan) -->
            <button type="submit" id="submit-btn">Hantar Jawapan</button>
        </form>

        <div id="certificate-wrapper" style="display: none;">
             <div id="certificate">
                <h2>Sijil Pencapaian Kuiz</h2>
                <h3>Sistem Pengurusan Perkhidmatan Kaunseling (e2PK)</h3>
                <p class="cert-text">Dengan ini mengesahkan bahawa:</p>
                <p class="participant-name-cert" id="cert-name"></p>
                <p class="cert-text">telah berjaya melengkapkan kuiz dengan keputusan:</p>
                <p class="score-cert" id="cert-score"></p>
                <p class="grade-cert" id="cert-grade"></p>
                <p class="date-cert" id="cert-date"></p>
            </div>
        </div>
        <button id="download-btn" style="display: none;">Muat Turun Sijil (PDF)</button>
        <button id="retry-btn" style="display: none;">Jawab Semula</button>
    </div>

    <script>
        // Mengisi semula kod soalan yang diringkaskan
        const quizForm = document.getElementById('quiz-form');
        const questionsHTML = `
            <div class="question" id="q1"> <p>1. Teras "Pembangunan Sistem Penyampaian Perkhidmatan" mempunyai satu strategi utama. Apakah strategi tersebut?</p> <div class="options"> <div><input type="radio" name="q1" value="a"> A) Membangunkan aplikasi mudah alih sahaja</div><div><input type="radio" name="q1" value="b"> B) Mewujudkan sistem perkhidmatan berpusat (1 stop Centre) dan mesra pengguna</div><div><input type="radio" name="q1" value="c"> C) Menyediakan latihan kepada semua kaunselor</div><div><input type="radio" name="q1" value="d"> D) Mengurangkan penggunaan borang fizikal</div></div></div>
            <div class="question" id="q2"> <p>2. Siapakah yang dikategorikan sebagai Ketua Jabatan di peringkat JPN?</p> <div class="options"> <div><input type="radio" name="q2" value="a"> A) Semua Kaunselor di JPN</div><div><input type="radio" name="q2" value="b"> B) Pegawai Pendidikan Daerah sahaja</div><div><input type="radio" name="q2" value="c"> C) Pengarah, Timbalan, dan Ketua Sektor/Unit</div><div><input type="radio" name="q2" value="d"> D) Hanya Pengarah JPN</div></div></div>
            <div class="question" id="q3"> <p>3. Apakah tanggungjawab pertama seorang Ketua Jabatan berkaitan pelaksanaan sistem e2PK di bawah seliaannya?</p> <div class="options"> <div><input type="radio" name="q3" value="a"> A) Mendaftar semua staf ke dalam sistem</div><div><input type="radio" name="q3" value="b"> B) Melaporkan statistik penggunaan kepada KPM</div><div><input type="radio" name="q3" value="c"> C) Memberi taklimat kepada staf mengenai cara membuat temujanji</div><div><input type="radio" name="q3" value="d"> D) Menjadi kaunselor bagi kes-kes mudah</div></div></div>
            <div class="question" id="q4"> <p>4. Sistem e2PK memastikan setiap aktiviti perkhidmatan kaunseling dijalankan dan dilaporkan pada satu sistem di semua peringkat organisasi KECUALI...</p> <div class="options"> <div><input type="radio" name="q4" value="a"> A) JPN dan PPD</div><div><input type="radio" name="q4" value="b"> B) Institut Pendidikan</div><div><input type="radio" name="q4" value="c"> C) Bahagian-bahagian di KPM</div><div><input type="radio" name="q4" value="d"> D) Agensi luar KPM</div></div></div>
            <div class="question" id="q5"> <p>5. Atas sebab apakah seorang Ketua Jabatan perlu menggunakan sistem e2PK untuk merujuk staf kepada kaunselor?</p> <div class="options"> <div><input type="radio" name="q5" value="a"> A) Untuk isu kenaikan pangkat</div><div><input type="radio" name="q5" value="b"> B) Untuk isu tatatertib dan perkhidmatan</div><div><input type="radio" name="q5" value="c"> C) Untuk permohonan cuti tahunan</div><div><input type="radio" name="q5" value="d"> D) Untuk masalah peribadi yang tidak berkaitan kerja</div></div></div>
            <div class="question" id="q6"> <p>6. Yang manakah antara berikut BUKAN salah satu daripada 5 teras dalam Dasar Kaunseling KPM?</p> <div class="options"> <div><input type="radio" name="q6" value="a"> A) Pembangunan Manusiawi</div><div><input type="radio" name="q6" value="b"> B) Pembangunan Infrastruktur dan Teknologi</div><div><input type="radio" name="q6" value="c"> C) Pembangunan Kompetensi dan Latihan</div><div><input type="radio" name="q6" value="d"> D) Profesionalisme dan Perakuan Kaunselor</div></div></div>
            <div class="question" id="q7"> <p>7. Maklumat apakah yang boleh dilihat oleh Ketua Jabatan selepas membuat rujukan staf dalam sistem e2PK?</p> <div class="options"> <div><input type="radio" name="q7" value="a"> A) Butiran perbualan sesi kaunseling</div><div><input type="radio" name="q7" value="b"> B) Status tindakan bagi staf yang dirujuk</div><div><input type="radio" name="q7" value="c"> C) Laporan penuh psikologi staf</div><div><input type="radio" name="q7" value="d"> D) Rekod kehadiran staf ke sesi kaunseling</div></div></div>
            <div class="question" id="q8"> <p>8. Pembangunan sistem e2PK adalah berasaskan satu dokumen dasar yang sedang digubal. Apakah nama dokumen tersebut?</p> <div class="options"> <div><input type="radio" name="q8" value="a"> A) Dasar Perkhidmatan Awam KPM</div><div><input type="radio" name="q8" value="b"> B) Polisi Keselamatan Siber KPM</div><div><input type="radio" name="q8" value="c"> C) Dasar Kaunseling KPM</div><div><input type="radio" name="q8" value="d"> D) Pelan Strategik Pendidikan Digital</div></div></div>
            <div class="question" id="q9"> <p>9. Teras "Keseragaman dan Keselarasan Perkhidmatan" berkemungkinan besar bertujuan untuk memastikan...</p> <div class="options"> <div><input type="radio" name="q9" value="a"> A) Semua kaunselor menerima gaji yang sama</div><div><input type="radio" name="q9" value="b"> B) Perkhidmatan kaunseling yang diberikan mempunyai standard yang sama di semua lokasi</div><div><input type="radio" name="q9" value="c"> C) Waktu bekerja kaunselor adalah seragam di seluruh negara</div><div><input type="radio" name="q9" value="d"> D) Semua pejabat kaunseling mempunyai reka bentuk yang sama</div></div></div>
            <div class="question" id="q10"> <p>10. Apakah tujuan utama sistem e2PK diwujudkan sebagai "1 stop center"?</p> <div class="options"> <div><input type="radio" name="q10" value="a"> A) Untuk menggantikan sepenuhnya interaksi bersemuka</div><div><input type="radio" name="q10" value="b"> B) Untuk mengurangkan bilangan kaunselor di KPM</div><div><input type="radio" name="q10" value="c"> C) Untuk memusatkan dan mempermudahkan akses kepada perkhidmatan kaunseling</div><div><input type="radio" name="q10" value="d"> D) Untuk memantau pergerakan semua staf KPM</div></div></div>
            <div class="question" id="q11"> <p>11. Apakah skop organisasi yang diliputi oleh sistem pelaporan e2PK?</p> <div class="options"> <div><input type="radio" name="q11" value="a"> A) Bahagian KPM dan JPN sahaja</div><div><input type="radio" name="q11" value="b"> B) JPN, PPD, dan Sekolah sahaja</div><div><input type="radio" name="q11" value="c"> C) Bahagian KPM, JPN, PPD, dan Institut Pendidikan</div><div><input type="radio" name="q11" value="d"> D) Peringkat sekolah sahaja</div></div></div>
            <div class="question" id="q12"> <p>12. Menurut taklimat, siapakah yang BUKAN dikategorikan sebagai Ketua Jabatan di peringkat JPN?</p> <div class="options"> <div><input type="radio" name="q12" value="a"> A) Pengarah</div><div><input type="radio" name="q12" value="b"> B) Timbalan Pengarah</div><div><input type="radio" name="q12" value="c"> C) Ketua Sektor</div><div><input type="radio" name="q12" value="d"> D) Kaunselor Organisasi Daerah</div></div></div>
            <div class="question" id="q13"> <p>13. Seorang staf didapati kerap datang lewat ke pejabat. Mengikut taklimat, apakah tindakan yang boleh diambil oleh Ketua Jabatan menggunakan e2PK?</p> <div class="options"> <div><input type="radio" name="q13" value="a"> A) Memotong gaji staf tersebut melalui sistem</div><div><input type="radio" name="q13" value="b"> B) Merujuk staf tersebut kepada kaunselor untuk isu perkhidmatan</div><div><input type="radio" name="q13" value="c"> C) Menghantar surat amaran secara automatik</div><div><input type="radio" name="q13" value="d"> D) Menyekat akses staf kepada sistem</div></div></div>
            <div class="question" id="q14"> <p>14. Teras "Pembangunan Manusiawi" dalam Dasar Kaunseling KPM memberi penekanan kepada...</p> <div class="options"> <div><input type="radio" name="q14" value="a"> A) Pembangunan fizikal pejabat kaunseling</div><div><input type="radio" name="q14" value="b"> B) Pembangunan kesejahteraan dan potensi diri individu</div><div><input type="radio" name="q14" value="c"> C) Pembangunan kemahiran teknikal IT untuk kaunselor</div><div><input type="radio" name="q14" value="d"> D) Pembangunan modul latihan untuk pentadbir</div></div></div>
            <div class="question" id="q15"> <p>15. Apakah maklumat yang TIDAK boleh diakses oleh Ketua Jabatan dalam sistem e2PK untuk menjaga kerahsiaan?</p> <div class="options"> <div><input type="radio" name="q15" value="a"> A) Status rujukan yang telah dibuat</div><div><input type="radio" name="q15" value="b"> B) Nama staf yang dirujuk</div><div><input type="radio" name="q15" value="c"> C) Kandungan perbincangan sesi kaunseling</div><div><input type="radio" name="q15" value="d"> D) Tarikh rujukan dibuat</div></div></div>
            <div class="question" id="q16"> <p>16. Mengapakah penting bagi sistem e2PK untuk bersifat "mesra pengguna"?</p> <div class="options"> <div><input type="radio" name="q16" value="a"> A) Supaya ia kelihatan moden dan canggih</div><div><input type="radio" name="q16" value="b"> B) Untuk menggalakkan penggunaannya tanpa halangan teknikal</div><div><input type="radio" name="q16" value="c"> C) Kerana ia adalah syarat daripada pembekal sistem</div><div><input type="radio" name="q16" value="d"> D) Untuk mengurangkan kos penyelenggaraan tahunan</div></div></div>
            <div class="question" id="q17"> <p>17. Apakah matlamat utama di sebalik Teras "Profesionalisme dan Perakuan Kaunselor"?</p> <div class="options"> <div><input type="radio" name="q17" value="a"> A) Memastikan semua kaunselor mempunyai sijil IT</div><div><input type="radio" name="q17" value="b"> B) Menetapkan standard etika dan kelayakan yang tinggi untuk kaunselor</div><div><input type="radio" name="q17" value="c"> C) Memastikan kaunselor sentiasa berada di pejabat</div><div><input type="radio" name="q17" value="d"> D) Mengurangkan jumlah kaunselor di KPM</div></div></div>
            <div class="question" id="q18"> <p>18. Sistem e2PK adalah manifestasi digital bagi teras mana dalam Dasar Kaunseling KPM?</p> <div class="options"> <div><input type="radio" name="q18" value="a"> A) Pembangunan Manusiawi</div><div><input type="radio" name="q18" value="b"> B) Pembangunan Sistem Penyampaian Perkhidmatan</div><div><input type="radio" name="q18" value="c"> C) Pembangunan Kompetensi dan Latihan</div><div><input type="radio" name="q18" value="d"> D) Keseragaman dan Keselarasan Perkhidmatan</div></div></div>
            <div class="question" id="q19"> <p>19. Seorang staf ingin berjumpa kaunselor secara sukarela. Apakah langkah pertama yang perlu dilakukannya melalui sistem e2PK?</p> <div class="options"> <div><input type="radio" name="q19" value="a"> A) Memaklumkan kepada Ketua Jabatan untuk kelulusan</div><div><input type="radio" name="q19" value="b"> B) Mengisi borang manual dan menghantarnya ke JPN</div><div><input type="radio" name="q19" value="c"> C) Membuat temujanji terus dengan kaunselor melalui sistem</div><div><input type="radio" name="q19" value="d"> D) Menunggu sehingga Ketua Jabatan merujuknya</div></div></div>
            <div class="question" id="q20"> <p>20. Apakah peranan yang paling sesuai bagi seorang Jurulatih Utama (JU) Negeri berkaitan sistem e2PK?</p> <div class="options"> <div><input type="radio" name="q20" value="a"> A) Memberi kaunseling kepada semua staf di negerinya</div><div><input type="radio" name="q20" value="b"> B) Melatih pengguna dan memastikan kelancaran pelaksanaan sistem</div><div><input type="radio" name="q20" value="c"> C) Membangunkan dan menambah ciri baharu pada sistem</div><div><input type="radio" name="q20" value="d"> D) Meluluskan semua permohonan temujanji kaunseling</div></div></div>
            `;
        quizForm.insertAdjacentHTML('afterbegin', questionsHTML);

        let participantName = '';
        
        document.getElementById('start-btn').addEventListener('click', function() {
            participantName = document.getElementById('participant-name').value;
            const nameError = document.getElementById('name-error');
            if (participantName.trim() === '') {
                nameError.style.display = 'block';
            } else {
                nameError.style.display = 'none';
                document.getElementById('name-container').style.display = 'none';
                document.getElementById('quiz-form').style.display = 'block';
            }
        });

        quizForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const answers = {
                q1: 'b', q2: 'c', q3: 'c', q4: 'd', q5: 'b', q6: 'b', q7: 'b', q8: 'c', q9: 'b', q10: 'c',
                q11: 'c', q12: 'd', q13: 'b', q14: 'b', q15: 'c', q16: 'b', q17: 'b', q18: 'b', q19: 'c', q20: 'b'
            };

            let score = 0;
            const totalQuestions = Object.keys(answers).length;
            
            for (const [questionId, correctAnswer] of Object.entries(answers)) {
                const selectedOption = quizForm.querySelector(`input[name="${questionId}"]:checked`);
                if (selectedOption && selectedOption.value === correctAnswer) {
                    score++;
                }
            }

            // Paparkan Sijil
            quizForm.style.display = 'none';
            document.getElementById('certificate-wrapper').style.display = 'block';
            document.getElementById('download-btn').style.display = 'block';
            document.getElementById('retry-btn').style.display = 'block';

            document.getElementById('cert-name').textContent = participantName;
            document.getElementById('cert-score').textContent = `Skor: ${score} / ${totalQuestions}`;
            
            const percentage = (score / totalQuestions) * 100;
            let grade = '';
            if (percentage >= 80) grade = 'Tahniah, pencapaian Cemerlang!';
            else if (percentage >= 60) grade = 'Pencapaian yang Baik!';
            else grade = 'Teruskan Usaha, anda boleh lakukan lebih baik!';
            document.getElementById('cert-grade').textContent = grade;
            
            document.getElementById('cert-date').textContent = `Tarikh: ${new Date().toLocaleDateString('ms-MY')}`;
        });

        document.getElementById('download-btn').addEventListener('click', function() {
            const downloadBtn = this;
            downloadBtn.textContent = 'Menjana PDF...';
            downloadBtn.disabled = true;

            const { jsPDF } = window.jspdf;
            const certificateElement = document.getElementById("certificate");

            html2canvas(certificateElement, { scale: 2 }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF('l', 'mm', 'a4'); // l for landscape
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = pdf.internal.pageSize.getHeight();
                
                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                pdf.save(`Sijil_Kuiz_e2PK_${participantName.replace(/ /g,"_")}.pdf`);
                
                downloadBtn.textContent = 'Muat Turun Sijil (PDF)';
                downloadBtn.disabled = false;
            });
        });

        document.getElementById('retry-btn').addEventListener('click', function() {
            // Sembunyikan sijil dan butang
            document.getElementById('certificate-wrapper').style.display = 'none';
            document.getElementById('download-btn').style.display = 'none';
            this.style.display = 'none';

            // Reset dan tunjukkan semula bahagian nama
            document.getElementById('participant-name').value = '';
            document.getElementById('name-container').style.display = 'block';
            
            // Reset borang kuiz
            quizForm.reset();
            
            // Sembunyikan borang kuiz sehingga nama dimasukkan semula
            quizForm.style.display = 'none';

            // Tatal ke atas
            document.getElementById('quiz-container').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>

