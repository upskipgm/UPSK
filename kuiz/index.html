<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuiz Sistem e-2PK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #334155;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
            text-align: center;
        }
        .container {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            max-width: 900px;
            width: 100%;
            border: 2px solid #e2e8f0;
        }
        .question-box {
            background-color: #f8fafc;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }
        .question-box.correct {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .question-box.incorrect {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .options-list {
            list-style: none;
            padding: 0;
            margin-top: 1rem;
            display: grid;
            gap: 0.75rem;
        }
        .option-item {
            cursor: pointer;
            padding: 0.75rem 1rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.5rem;
            transition: all 0.2s ease-in-out;
        }
        .option-item:hover:not(.selected) {
            background-color: #e2e8f0;
        }
        .option-item.selected {
            background-color: #bfdbfe;
            border-color: #60a5fa;
            font-weight: 500;
        }
        .option-item.correct {
            background-color: #dcfce7;
            border-color: #22c55e;
            font-weight: 700;
        }
        .option-item.incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
            font-weight: 700;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        #quiz-container, #result-container {
            display: none;
        }
        #result-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #certificate-card {
            background-color: #f0fdfa;
            border: 4px solid #10b981;
            padding: 2rem;
            border-radius: 1rem;
            margin-top: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 14px 0 rgba(16, 185, 129, 0.25);
            width: 100%;
        }
        .certificate-header {
            font-size: 1.5rem;
            font-weight: 700;
            color: #065f46;
        }
        .certificate-title {
            font-size: 2.5rem;
            font-weight: 900;
            color: #047857;
            text-transform: uppercase;
            margin: 0.5rem 0;
        }
        .certificate-text {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }
        .signature-line {
            border-top: 2px solid #94a3b8;
            margin: 2rem auto 0.5rem;
            width: 70%;
        }
        .score-text {
            font-size: 1.75rem;
            font-weight: 700;
            color: #10b981;
        }
        .score-value {
            font-size: 3rem;
            font-weight: 900;
            color: #15803d;
            margin-top: 0.5rem;
        }
        @media (min-width: 768px) {
            .options-list {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center p-4 min-h-screen">
    <div class="container">
        <!-- Halaman Utama -->
        <div id="intro-container" class="text-center">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-4">Kuiz Mengenai Sistem e-2PK</h1>
            <p class="text-lg md:text-xl text-gray-600 mb-6">Uji pengetahuan anda tentang Sistem Pengurusan Perkhidmatan Kaunseling (e-2PK) Kementerian Pendidikan Malaysia.</p>
            <button id="start-btn" class="btn bg-blue-500 text-white hover:bg-blue-600">Mula Kuiz</button>
        </div>

        <!-- Halaman Kuiz -->
        <div id="quiz-container" class="space-y-6">
            <h2 class="text-2xl font-bold text-gray-800">Soalan <span id="current-question-number">1</span> daripada <span id="total-questions">20</span></h2>
            <div id="question-text" class="text-xl font-medium text-gray-700"></div>
            <ul id="options-container" class="options-list"></ul>
            <button id="next-btn" class="btn bg-gray-400 text-white cursor-not-allowed mt-4" disabled>Seterusnya</button>
        </div>

        <!-- Halaman Keputusan -->
        <div id="result-container" class="text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Keputusan Kuiz</h2>
            <p class="text-2xl font-semibold text-gray-700 mb-2">Anda telah menjawab dengan betul:</p>
            <p id="score-display" class="score-value text-green-600 mb-4"></p>
            <button id="print-btn" class="btn bg-green-500 text-white hover:bg-green-600 mb-4">Cetak Sijil</button>
            <div id="certificate-card" class="hidden p-8">
                <p class="text-xl font-bold text-gray-700">Kementerian Pendidikan Malaysia</p>
                <p class="certificate-header">Sijil Penghargaan</p>
                <p class="certificate-title">Kuiz Sistem e-2PK</p>
                <p class="certificate-text">Sijil ini diberikan kepada</p>
                <input id="participant-name" type="text" placeholder="Masukkan Nama Anda" class="text-center text-2xl font-bold border-b-2 border-gray-400 focus:outline-none focus:border-blue-500 rounded-md p-2 w-full max-w-sm mb-4">
                <p class="certificate-text">atas penyertaan dan pencapaian cemerlang dalam kuiz ini.</p>
                <p id="final-score-text" class="score-text"></p>
                <div class="signature-line"></div>
                <p class="text-gray-600 font-medium">Kuiz Bengkel e-2PK IPG KPM 2025</p>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                q: "Apakah maksud e-2PK?",
                a: "Sistem Pengurusan Perkhidmatan Kaunseling",
                options: [
                    "Sistem Pengurusan Pelajar KPM",
                    "Sistem Perkhidmatan Kaunseling Pendidikan",
                    "Sistem Pengurusan Perkhidmatan Kaunseling",
                    "Sistem Pengurusan Kaunselor KPM"
                ]
            },
            {
                q: "Sistem e-2PK dibangunkan berdasarkan salah satu daripada lima teras di dalam kertas Dasar Kaunseling KPM. Apakah teras tersebut?",
                a: "Pembangunan Sistem Penyampaian Perkhidmatan",
                options: [
                    "Profesionalisme dan Perakuan Kaunselor",
                    "Pembangunan Sistem Penyampaian Perkhidmatan",
                    "Pembangunan Kompetensi dan Latihan",
                    "Keseragaman dan Keselarasan Perkhidmatan"
                ]
            },
            {
                q: "Apakah fungsi utama Modul Profil Kaunselor?",
                a: "Mengumpul dan mengesan kepakaran serta keperluan kompetensi kaunselor",
                options: [
                    "Merekod pengurusan harian kaunselor",
                    "Menguruskan rujukan dan janji temu klien",
                    "Melaksanakan perkhidmatan ujian psikologi",
                    "Mengumpul dan mengesan kepakaran serta keperluan kompetensi kaunselor"
                ]
            },
            {
                q: "Berapa lamakah tempoh masa yang diberikan kepada kaunselor untuk membuat pelaporan sesi selepas mendaftar klien?",
                a: "7 hari",
                options: [
                    "1 hari",
                    "3 hari",
                    "5 hari",
                    "7 hari"
                ]
            },
            {
                q: "Apakah yang akan berlaku jika kaunselor membuat pelaporan sesi selepas tempoh KPI yang ditetapkan?",
                a: "Pelaporan akan direkod dengan status 'lewat'",
                options: [
                    "Pelaporan akan dibatalkan",
                    "Kaunselor perlu membuat semula pelaporan",
                    "Pelaporan akan direkod dengan status 'lewat'",
                    "Tiada tindakan yang diambil"
                ]
            },
            {
                q: "Apakah fungsi utama Modul Pengurusan Kaunselor?",
                a: "Berfungsi sebagai diari atau rekod pengurusan harian kaunselor",
                options: [
                    "Mendaftar klien untuk sesi individu dan kelompok",
                    "Menguruskan permohonan janji temu",
                    "Berfungsi sebagai diari atau rekod pengurusan harian kaunselor",
                    "Menganalisis statistik perkhidmatan psikologi"
                ]
            },
            {
                q: "Siapakah yang perlu mengemaskini Kompetensi Kaunselor pada setiap bulan Disember?",
                a: "Semua kaunselor",
                options: [
                    "Ketua Jabatan",
                    "Pegawai Meja",
                    "Semua kaunselor",
                    "Pentadbir Sistem"
                ]
            },
            {
                q: "Apakah salah satu peranan Ketua Jabatan dalam sistem e-2PK?",
                a: "Membuat rujukan staf kepada kaunselor melalui sistem",
                options: [
                    "Membuat pelaporan sesi kaunseling",
                    "Melaksanakan ujian psikometrik",
                    "Menganalisis statistik klien",
                    "Membuat rujukan staf kepada kaunselor melalui sistem"
                ]
            },
            {
                q: "Modul manakah yang membolehkan kaunselor melakukan ujian psikologi secara atas talian?",
                a: "Modul Psikometrik",
                options: [
                    "Modul Profil Kaunselor",
                    "Modul Pengurusan Kaunselor",
                    "Modul Psikometrik",
                    "Modul Perkhidmatan Kaunseling"
                ]
            },
            {
                q: "Bagaimanakah kaunselor baharu boleh mendapatkan laporan sesi klien daripada kaunselor lama?",
                a: "Meminta kebenaran dari klien dan pihak BPsK melalui borang Arkib",
                options: [
                    "Melakukan carian terus dalam sistem",
                    "Menghubungi kaunselor lama secara terus",
                    "Meminta kebenaran dari klien dan pihak BPsK melalui borang Arkib",
                    "Memohon kepada Ketua Jabatan"
                ]
            },
            {
                q: "Laporan analisis data berkaitan statistik pengurusan kaunselor boleh dipaparkan secara:",
                a: "Individu, organisasi dan keseluruhan (negara)",
                options: [
                    "Individu sahaja",
                    "Individu dan organisasi sahaja",
                    "Organisasi dan keseluruhan (negara)",
                    "Individu, organisasi dan keseluruhan (negara)"
                ]
            },
            {
                q: "Jika seorang klien ingin membuat janji temu dengan kaunselor, modul manakah yang akan digunakan?",
                a: "Modul Rujukan dan Janji Temu",
                options: [
                    "Modul Profil Kaunselor",
                    "Modul Pengurusan Kaunselor",
                    "Modul Perkhidmatan Kaunseling",
                    "Modul Rujukan dan Janji Temu"
                ]
            },
            {
                q: "Apakah tujuan utama ujian pengukuhan seperti yang dinyatakan dalam dokumen latihan?",
                a: "Melihat tahap kefahaman dan kemahiran pengguna",
                options: [
                    "Menilai prestasi kaunselor",
                    "Mengukur kepuasan klien",
                    "Melihat tahap kefahaman dan kemahiran pengguna",
                    "Menganalisis data perkhidmatan"
                ]
            },
            {
                q: "Siapakah yang boleh menggunakan instrumen i2PK pada sistem e-2PK?",
                a: "Warga KPM",
                options: [
                    "Semua kaunselor sahaja",
                    "Semua warga KPM",
                    "Semua kaunselor dan klien",
                    "Warga KPM"
                ]
            },
            {
                q: "Apakah status tindakan yang perlu dikemaskini oleh kaunselor selepas menerima rujukan kes klien?",
                a: "Dalam Tindakan/ Selesai",
                options: [
                    "Belum Ambil Tindakan",
                    "Selesai",
                    "Dalam Tindakan/ Selesai",
                    "Tidak Berkaitan"
                ]
            },
            {
                q: "Modul manakah yang membolehkan kaunselor mendaftar dan menguruskan maklumat ahli AKRAB?",
                a: "Modul AKRAB",
                options: [
                    "Modul Profil Kaunselor",
                    "Modul Pengurusan Kaunselor",
                    "Modul AKRAB",
                    "Modul Perkhidmatan Kaunseling"
                ]
            },
            {
                q: "Menurut dokumen, bilakah kaunselor pendidikan perlu mengemaskini profil kompetensi mereka?",
                a: "Bulan Oktober setiap tahun",
                options: [
                    "Bulan Disember setiap tahun",
                    "Bulan Oktober setiap tahun",
                    "Setiap kali ada perubahan",
                    "Setiap 6 bulan"
                ]
            },
            {
                q: "Apakah salah satu maklumat yang boleh dicetak oleh kaunselor daripada Modul Laporan Analisis?",
                a: "Laporan Tahunan Tugas Pengurusan Kaunselor",
                options: [
                    "Senarai Nama Klien",
                    "Laporan Tahunan Tugas Pengurusan Kaunselor",
                    "Laporan Kehadiran Mesyuarat",
                    "Senarai Rujukan Kes"
                ]
            },
            {
                q: "Apakah yang perlu dilakukan oleh kaunselor sekiranya terdapat perubahan pada bahagian Perkhidmatan dan Kepakaran dalam profil mereka?",
                a: "Kemaskini Profil Kaunselor",
                options: [
                    "Melaporkan kepada Ketua Jabatan",
                    "Menerbitkan maklumat baharu",
                    "Kemaskini Profil Kaunselor",
                    "Menghubungi Unit Data dan Maklumat"
                ]
            },
            {
                q: "Siapakah yang merupakan pengguna utama sistem e-2PK?",
                a: "Kaunselor Pendidikan",
                options: [
                    "Semua warga KPM",
                    "Ketua Jabatan",
                    "Kaunselor Pendidikan",
                    "Pegawai Meja"
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        const userAnswers = {};

        const introContainer = document.getElementById('intro-container');
        const startBtn = document.getElementById('start-btn');
        const quizContainer = document.getElementById('quiz-container');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const currentQuestionNumberSpan = document.getElementById('current-question-number');
        const totalQuestionsSpan = document.getElementById('total-questions');
        const resultContainer = document.getElementById('result-container');
        const scoreDisplay = document.getElementById('score-display');
        const printBtn = document.getElementById('print-btn');
        const certificateCard = document.getElementById('certificate-card');
        const participantNameInput = document.getElementById('participant-name');
        const finalScoreText = document.getElementById('final-score-text');

        // Initially hide result container and certificate card
        resultContainer.style.display = 'none';
        certificateCard.style.display = 'none';

        totalQuestionsSpan.textContent = questions.length;

        startBtn.addEventListener('click', () => {
            introContainer.style.display = 'none';
            quizContainer.style.display = 'block';
            showQuestion();
        });

        nextBtn.addEventListener('click', () => {
            const selectedOption = document.querySelector('.option-item.selected');
            if (selectedOption) {
                const questionData = questions[currentQuestionIndex];
                const isCorrect = selectedOption.textContent.trim() === questionData.a.trim();
                
                if (isCorrect) {
                    score++;
                }

                userAnswers[currentQuestionIndex] = {
                    question: questionData.q,
                    selected: selectedOption.textContent.trim(),
                    correct: questionData.a.trim(),
                    isCorrect: isCorrect
                };
                
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    showResult();
                }
            }
        });

        function showQuestion() {
            const questionData = questions[currentQuestionIndex];
            currentQuestionNumberSpan.textContent = currentQuestionIndex + 1;
            questionText.textContent = questionData.q;
            optionsContainer.innerHTML = '';
            
            const shuffledOptions = [...questionData.options].sort(() => Math.random() - 0.5);

            shuffledOptions.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option;
                li.classList.add('option-item');
                li.addEventListener('click', () => selectOption(li));
                optionsContainer.appendChild(li);
            });

            nextBtn.disabled = true;
            nextBtn.classList.add('cursor-not-allowed', 'bg-gray-400');
            nextBtn.classList.remove('bg-blue-500', 'hover:bg-blue-600', 'cursor-pointer');
        }

        function selectOption(selectedLi) {
            document.querySelectorAll('.option-item').forEach(li => {
                li.classList.remove('selected');
            });
            selectedLi.classList.add('selected');
            
            nextBtn.disabled = false;
            nextBtn.classList.remove('cursor-not-allowed', 'bg-gray-400');
            nextBtn.classList.add('bg-blue-500', 'hover:bg-blue-600', 'cursor-pointer');
        }

        function showResult() {
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'flex';
            scoreDisplay.textContent = `${score} / ${questions.length}`;
            finalScoreText.textContent = `dengan markah ${score} daripada ${questions.length}`;
            certificateCard.style.display = 'block'; // Make certificate card visible on the result page
        }
        
        printBtn.addEventListener('click', () => {
            const name = participantNameInput.value.trim() || 'Peserta Kuiz';
            finalScoreText.textContent = `dengan markah ${score} daripada ${questions.length}`;

            // Create a temporary print window
            const printWindow = window.open('', '_blank');
            printWindow.document.write('<html><head><title>Sijil Penghargaan</title>' + document.querySelector('style').outerHTML + '</head><body>');
            printWindow.document.write('<div id="certificate-to-print" class="container" style="box-shadow: none; border: none; padding: 2rem;">');
            printWindow.document.write(certificateCard.innerHTML.replace('placeholder="Masukkan Nama Anda"', `value="${name}"`).replace('Sijil Penghargaan', '<p class="text-xl font-bold text-gray-700">Kementerian Pendidikan Malaysia</p><p class="certificate-header">Sijil Penghargaan</p>').replace('Masukkan Nama Anda', name));
            printWindow.document.write('</div></body></html>');
            printWindow.document.close();

            // Replace input with text for printing
            const nameInputInPrint = printWindow.document.getElementById('participant-name');
            if(nameInputInPrint) {
                const nameText = printWindow.document.createElement('p');
                nameText.textContent = name;
                nameText.classList.add('text-2xl', 'font-bold', 'mb-4', 'text-center');
                nameInputInPrint.parentNode.replaceChild(nameText, nameInputInPrint);
            }
            
            printWindow.onload = () => {
                printWindow.focus();
                printWindow.print();
                printWindow.close();
                // certificateCard.classList.add('hidden');
            };
        });
    </script>
</body>
</html>
